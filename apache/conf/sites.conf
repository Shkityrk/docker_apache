<VirtualHost *:80>
    ServerName localhost

    # Включение прокси
    ProxyPreserveHost On
    ProxyRequests Off

    # Проксирование всех запросов к фронтенду
    ProxyPass / http://frontend:3000/
    ProxyPassReverse / http://frontend:3000/

    # Обработка WebSocket (если необходимо)
    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} =websocket [NC]
    RewriteRule /(.*) ws://frontend:3000/$1 [P,L]

    # Логирование
    ErrorLog /usr/local/apache2/logs/error.log
    CustomLog /usr/local/apache2/logs/access.log combined
</VirtualHost>

